@model Presupuestos

<h1>Detalle del Presupuesto</h1>

<hr />

<h3>Encabezado</h3>
<table class="table table-bordered">
    <tr>
        <th>ID Presupuesto</th>
        <td>@Model.IdPresupuesto</td>
    </tr>
    <tr>
        <th>Destinatario</th>
        <td>@Model.NombreDestinatario</td>
    </tr>
    <tr>
        <th>Fecha de CreaciÃ³n</th>
        <td>@Model.FechaCreacion.ToShortDateString()</td>
    </tr>
</table>

<hr />

<h3>ðŸ›’ Productos Agregados</h3>

@if (Model.Detalles.Count == 0)
{
    <p>No hay productos cargados en este presupuesto.</p>
}
else
{
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Producto</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var d in Model.Detalles)
        {
            <tr>
                <td>@d.Producto.Descripcion</td>
                <td>@d.Producto.Precio</td>
                <td>@d.Cantidad</td>
                <td>@(d.Producto.Precio * d.Cantidad)</td>
            </tr>
        }
        </tbody>
    </table>
}

<hr />

<h3>ðŸ’° Monto Final</h3>
<p><b>Subtotal:</b> @Model.MontoPresupuesto() </p>
<p><b>Total con IVA (21%):</b> @Model.MontoPresupuestoIVA() </p>

<a asp-action="Index" class="btn btn-secondary">Volver</a>
